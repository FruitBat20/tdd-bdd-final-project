Feature: The product store service back-end # features/products.feature:1
  As a Product Store Owner
  I need a RESTful catalog service
  So that I can keep track of all my products
  Background:   # features/products.feature:6

  Scenario: The server is running                                   # features/products.feature:14
    Given the following products                                    # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                                    # features/steps/web_steps.py:36
    Then I should see "Product Catalog Administration" in the title # features/steps/web_steps.py:43
    And I should not see "404 Not Found"                            # features/steps/web_steps.py:48

  Scenario: Create a Product                                  # features/products.feature:19
    Given the following products                              # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                              # features/steps/web_steps.py:36
    And I set the "Name" to "Hammer"                          # features/steps/web_steps.py:53
    And I set the "Description" to "Claw hammer"              # features/steps/web_steps.py:53
    And I select "True" in the "Available" dropdown           # features/steps/web_steps.py:60
    And I select "Tools" in the "Category" dropdown           # features/steps/web_steps.py:60
    And I set the "Price" to "34.95"                          # features/steps/web_steps.py:53
    And I press the "Create" button                           # features/steps/web_steps.py:108
    Then I should see the message "Success"                   # features/steps/web_steps.py:128
    When I copy the "Id" field                                # features/steps/web_steps.py:81
    And I press the "Clear" button                            # features/steps/web_steps.py:108
    Then the "Id" field should be empty                       # features/steps/web_steps.py:72
    And the "Name" field should be empty                      # features/steps/web_steps.py:72
    And the "Description" field should be empty               # features/steps/web_steps.py:72
    When I paste the "Id" field                               # features/steps/web_steps.py:90
    And I press the "Retrieve" button                         # features/steps/web_steps.py:108
    Then I should see the message "Success"                   # features/steps/web_steps.py:128
    And I should see "Hammer" in the "Name" field             # features/steps/web_steps.py:145
    And I should see "Claw hammer" in the "Description" field # features/steps/web_steps.py:145
    And I should see "True" in the "Available" dropdown       # features/steps/web_steps.py:66
    And I should see "Tools" in the "Category" dropdown       # features/steps/web_steps.py:66
    And I should see "34.95" in the "Price" field             # features/steps/web_steps.py:145

  Scenario: Read a Product                                     # features/products.feature:42
    Given the following products                               # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                               # features/steps/web_steps.py:36
    And I set the "Name" to "Hat"                              # features/steps/web_steps.py:53
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    When I copy the "Id" field                                 # features/steps/web_steps.py:81
    And I press the "Clear" button                             # features/steps/web_steps.py:108
    And I paste the "Id" field                                 # features/steps/web_steps.py:90
    And I press the "Retrieve" button                          # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "Hat" in the "Name" field                 # features/steps/web_steps.py:145
    And I should see "A red fedora" in the "Description" field # features/steps/web_steps.py:145
    And I should see "True" in the "Available" dropdown        # features/steps/web_steps.py:66
    And I should see "Cloths" in the "Category" dropdown       # features/steps/web_steps.py:66
    And I should see "59.95" in the "Price" field              # features/steps/web_steps.py:145

  Scenario: Update a Product                                   # features/products.feature:58
    Given the following products                               # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                               # features/steps/web_steps.py:36
    And I set the "Name" to "Hat"                              # features/steps/web_steps.py:53
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "A red fedora" in the "Description" field # features/steps/web_steps.py:145
    When I change "Name" to "Fedora"                           # features/steps/web_steps.py:156
    And I press the "Update" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    When I copy the "Id" field                                 # features/steps/web_steps.py:81
    And I press the "Clear" button                             # features/steps/web_steps.py:108
    And I paste the "Id" field                                 # features/steps/web_steps.py:90
    And I press the "Retrieve" button                          # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "Fedora" in the "Name" field              # features/steps/web_steps.py:145
    When I press the "Clear" button                            # features/steps/web_steps.py:108
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "Fedora" in the results                   # features/steps/web_steps.py:113
    And I should not see "Hat" in the results                  # features/steps/web_steps.py:123

  Scenario: Delete a Product                                   # features/products.feature:79
    Given the following products                               # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                               # features/steps/web_steps.py:36
    And I set the "Name" to "Hat"                              # features/steps/web_steps.py:53
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "A red fedora" in the "Description" field # features/steps/web_steps.py:145
    When I copy the "Id" field                                 # features/steps/web_steps.py:81
    And I press the "Clear" button                             # features/steps/web_steps.py:108
    And I paste the "Id" field                                 # features/steps/web_steps.py:90
    And I press the "Delete" button                            # features/steps/web_steps.py:108
    Then I should see the message "Product has been Deleted!"  # features/steps/web_steps.py:128
    When I press the "Clear" button                            # features/steps/web_steps.py:108
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should not see "Hat" in the results                  # features/steps/web_steps.py:123

  Scenario: List all products                 # features/products.feature:95
    Given the following products              # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"              # features/steps/web_steps.py:36
    And I press the "Clear" button            # features/steps/web_steps.py:108
    And I press the "Search" button           # features/steps/web_steps.py:108
    Then I should see the message "Success"   # features/steps/web_steps.py:128
    And I should see "Hat" in the results     # features/steps/web_steps.py:113
    And I should see "Shoes" in the results   # features/steps/web_steps.py:113
    And I should see "Big Mac" in the results # features/steps/web_steps.py:113
    And I should see "Sheets" in the results  # features/steps/web_steps.py:113

  Scenario: Search by category                     # features/products.feature:105
    Given the following products                   # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                   # features/steps/web_steps.py:36
    And I press the "Clear" button                 # features/steps/web_steps.py:108
    And I select "Food" in the "Category" dropdown # features/steps/web_steps.py:60
    And I press the "Search" button                # features/steps/web_steps.py:108
    Then I should see the message "Success"        # features/steps/web_steps.py:128
    And I should see "Big Mac" in the results      # features/steps/web_steps.py:113
    And I should not see "Hat" in the results      # features/steps/web_steps.py:123
    And I should not see "Shoes" in the results    # features/steps/web_steps.py:123
    And I should not see "Sheets" in the results   # features/steps/web_steps.py:123

  Scenario: Search by available                     # features/products.feature:116
    Given the following products                    # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                    # features/steps/web_steps.py:36
    And I press the "Clear" button                  # features/steps/web_steps.py:108
    And I select "True" in the "Available" dropdown # features/steps/web_steps.py:60
    And I press the "Search" button                 # features/steps/web_steps.py:108
    Then I should see the message "Success"         # features/steps/web_steps.py:128
    And I should see "Hat" in the results           # features/steps/web_steps.py:113
    And I should see "Big Mac" in the results       # features/steps/web_steps.py:113
    And I should see "Sheets" in the results        # features/steps/web_steps.py:113
    And I should not see "Shoes" in the results     # features/steps/web_steps.py:123

  Scenario: Search by name                                     # features/products.feature:127
    Given the following products                               # features/steps/load_steps.py:33
      | name    | description     | price  | available | category   |
      | Hat     | A red fedora    | 59.95  | True      | CLOTHS     |
      | Shoes   | Blue shoes      | 120.50 | False     | CLOTHS     |
      | Big Mac | 1/4 lb burger   | 5.99   | True      | FOOD       |
      | Sheets  | Full bed sheets | 87.00  | True      | HOUSEWARES |
    When I visit the "Home Page"                               # features/steps/web_steps.py:36
    And I set the "Name" to "Hat"                              # features/steps/web_steps.py:53
    And I press the "Search" button                            # features/steps/web_steps.py:108
    Then I should see the message "Success"                    # features/steps/web_steps.py:128
    And I should see "Hat" in the "Name" field                 # features/steps/web_steps.py:145
    And I should see "A red fedora" in the "Description" field # features/steps/web_steps.py:145

1 feature passed, 0 failed, 0 skipped
9 scenarios passed, 0 failed, 0 skipped
112 steps passed, 0 failed, 0 skipped, 0 undefined
Took 0m8.803s
